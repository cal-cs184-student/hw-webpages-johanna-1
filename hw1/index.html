<html>
	<head>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=default'></script>
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
		<style>
			h1 {
				text-align: center;
			}

			.container {
				margin: 0 auto;
				padding: 60px 20%;
			}

			figure {
				text-align: center;
			}

			img {
				display: inline-block;
			}

			body {
				font-family: 'Inter', sans-serif;
			}
		</style>
	</head>
	<body>
		<div class="container">
		<h1>CS184/284A Spring 2025 Homework 1 Write-Up</h1>
		<div style="text-align: center;">Names: Johanna Liu </div>

		<br>

		Link to webpage: <a href="https://cal-cs184-student.github.io/hw-webpages-johanna-1/hw1/index.html">cal-cs184-student.github.io/hw-webpages-johanna-1/hw1/index.html</a>
		
		<br>

		Link to GitHub repository: <a href="https://github.com/cal-cs184-student/hw1-rasterizer-johanna">github.com/cal-cs184-student/hw1-rasterizer-johanna</a>

		<figure>
			<img src="lion.jpg" alt="Lion" style="width:50%"/>
			<figcaption>You can add images with captions!</figcaption>
		</figure>

		<!--
		We've already added one heading per task, to make your write-up as navigable when grading. Please fit your write-up within these sections!
		-->

		<h2>Overview</h2>
		Give a high-level overview of what you implemented in this homework. Think about what you've built as a whole. Share your thoughts on what interesting things you've learned from completing the homework.

		<h2>Task 1: Drawing Single-Color Triangles</h2>
		- Walk through how you rasterize triangles in your own words.<br>
			The function rasterize_triangles takes in parameters of three points and a color. Firstly, we check every pixel in our bounds --
			note that here we use the center of the pixel as sample points for each pixel. A triangle consists of three vertices/points, and 
			let's represent these points with the parameters given: <br>
			A = (x0, y0)<br>
			B = (x1, y1)<br>
			C = (x2, y2)<br>
			I want to test a point P = (px, py) for whether it is in the triangle and is to be colored.<br>
			I compute the 2D crossproduct of a triangle edge (say, AB,) and a vertex (say, A) to the unknown point P, simply using the common equation.
			Calculating the cross products then tells me which side of AB (or whichever edge) P is on. If the cross product is >0, P is on one side, if <0,
			P is on the other side. If =0, P is on the line. If P is on the SAME side of all AB, BC, and CA, then it is inside the triangle. 
			This takes into account both clockwise and counter-clockwise vertex winding.<br>  
			<br>
		- Explain how your algorithm is no worse than one that checks each sample within the bounding box of the triangle. <br>
<br>
			My xmin, xmax is the horizontal range that I must check (using given vertices of the triangle), and my ymin, ymax is my vertical range that I must check. 
			This just is the bounding box of the triangle. I am checking within that rectangle, so it is of course, not worse. <br>
<br>
		- Show a png screenshot of basic/test4.svg with the default viewing parameters and with the pixel inspector centered on an interesting part of the scene.<br>
				<img src="screenshot_2-17_22-5-50.png" alt="test4" style="width:50%"/><br>
<br>
		- Extra credit<br>
		    I doubt this counts, but I did OpenGL edge rules before I realized that it is not necessary. I hashed it out and rewrote the simpler version, so the code is still there.
			(Though I also hashed a large part of that out, too, after doing Task 2.) 
			
			
			

		<p>Here is an example 2x2 gridlike structure using an HTML table. Each <b>tr</b> is a row and each <b>td</b> is a column in that row. You might find this useful for framing and showing your result images in an organized fashion.</p>
		<div style="display: flex; flex-direction: column; align-items: center;">
			<table style="width: 100%; text-align: center; border-collapse: collapse;">
			  <tr>
				<td style="text-align: center;">
				  <img src="lion.jpg" width="400px"/>
				  <figcaption>Caption goes here.</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="lion.jpg" width="400px"/>
				  <figcaption>Caption goes here.</figcaption>
				</td>
			  </tr>
			  <tr>
				<td style="text-align: center;">
				  <img src="lion.jpg" width="400px"/>
				  <figcaption>Caption goes here.</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="lion.jpg" width="400px"/>
				  <figcaption>Caption goes here.</figcaption>
				</td>
			  </tr>
			</table>
		</div>
		
		<h2>Task 2: Antialiasing by Supersampling</h2>
		- Walk through your supersampling algorithm and data structures.<br> 
				Why is supersampling useful? 
				What modifications did you make to the rasterization pipeline in the process?

			The rasterization pipeline is like this:
			Triangles (rasterize triangle) are drawn into the sample_buffer, and resolve_to_framebuffer converts that into rgb_framebuffer_target.

			Modifications I made are:<br>
				In <b>rasterize_triangle</b>, I had to take into account the super sampled pixels, ie a sample rate of 4 now giving each pixel 2x2 grid.<br>
				So aside from iterating over the bounding box, I also iterated every pixel individually using the sqrt of the sample rate,
				splitting what used to be the center of the pixel sample points into however many sample points now required for the different sample rates.
				The sample_buffer then used the calculated index (that takes into account supersampling) to fill in the sub-pixels with colors.
			<br><br>
				Next, I modified <b>fill_pixel()</b> with a similar logic. It should iterate over the supersampled sub-pixels, too, with sample_buffer once 
				again using a modified index. 
				In <b>set_sample_rate()</b> and <b>set_framebuffer_target()</b>, I just made sure that sample_buffer was resized with (width * height * sample_rate)
				instead of only (width * height) since, once again, this modification is needed for the extra grid within each pixel. 
				In <b>resolve_to_framebuffer()</b>, we modified it from the original by averaging out all sub-pixels (instead of only able to read on pixel/sub-pixel)
				
			<br><br>
				Supersampling is useful because it "smooths" out edges with gradiented colors by sampling more color data within each pixel. This removes
				jaggies, and just overall increases the quality of graphics. 

			<br><br>



	

		<h2>Task 3: Transforms</h2><br>
		<img src="task3.png" alt="He's trying to pour the water out of his head!!!" style="width:50%"/>
		<br><br>
				

		<h2>Task 4: Barycentric coordinates</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>Task 5: "Pixel sampling" for texture mapping</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>Task 6: "Level Sampling" with mipmaps for texture mapping</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>(Optional) Task 7: Extra Credit - Draw Something Creative!</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>Additional Notes (please remove)</h2>
		<ul>
			<li>You can also add code if you'd like as so: <code>code code code</code></li>
			<li>If you'd like to add math equations, 
				<ul>
					<li>You can write inline equations like so: \( a^2 + b^2 = c^2 \)</li>
					<li>You can write display equations like so: \[ a^2 + b^2 = c^2 \]</li>
				</ul>
			</li>
		</ul>
		</div>
	</body>
</html>
